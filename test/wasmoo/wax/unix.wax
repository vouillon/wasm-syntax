#[import = ("bindings", "gettimeofday")] fn gettimeofday() -> f64
#[import = ("bindings", "gmtime")] fn gmtime(_: f64) -> &eq
#[import = ("bindings", "localtime")] fn localtime(_: f64) -> &eq
#[import = ("bindings", "mktime")]
fn mktime(_: i32, _: i32, _: i32, _: i32, _: i32, _: i32) -> f64
type block = [mut &eq]
type float = { f: f64 }
#[export = "unix_gettimeofday"]
fn unix_gettimeofday(x: &eq) -> &eq { {float| f: gettimeofday() }; }
#[export = "caml_alloc_tm"]
fn caml_alloc_tm
(sec: i32, min: i32, hour: i32, mday: i32, mon: i32, year: i32, wday: i32,
 yday: i32, isdst: i32)
-> &eq {
    [block|
        0 as &i31,
        sec as &i31,
        min as &i31,
        hour as &i31,
        mday as &i31,
        mon as &i31,
        year as &i31,
        wday as &i31,
        yday as &i31,
        isdst as &i31];
}
#[export = "unix_gmtime"]
fn unix_gmtime(x: &eq) -> &eq { gmtime((x as &float).f); }
#[export = "unix_localtime"]
fn unix_localtime(x: &eq) -> &eq { localtime((x as &float).f); }
#[export = "unix_time"]
fn unix_time(x: &eq) -> &eq { {float| f: (gettimeofday()).floor }; }
#[export = "unix_mktime"]
fn unix_mktime(x: &eq) -> &eq {
    let tm: &block;
    let t: f64;
    tm = x as &block;
    t =
        mktime
            (tm[6] as &i31 as i32_s + 1900, tm[5] as &i31 as i32_s,
             tm[4] as &i31 as i32_s, tm[3] as &i31 as i32_s,
             tm[2] as &i31 as i32_s, tm[1] as &i31 as i32_s)
            / 1000.;
    [block| 0 as &i31, {float| f: t }, localtime(t)];
}
#[export = "unix_inet_addr_of_string"]
fn unix_inet_addr_of_string(x: &eq) -> &eq { 0 as &i31; }
